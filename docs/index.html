<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Crypto Index</title>

  <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>

<div class="page">

  <header class="page-header">
    <h1>Crypto Index</h1>
    <span>Composite Crypto Market Index</span>
  </header>

  <div class="dashboard-grid">

    <!-- ===== CHART ===== -->
    <section class="card area-chart">
      <div class="card-header">
        <div>
          <h2>Index Performance</h2>

          <div class="index-metrics">
            <div class="index-price" id="snapValue">—</div>
            <div class="index-performance">
              <span id="pctChange" class="pct">—</span>
            </div>
          </div>
        </div>

        <div class="chart-type-label">Index</div>
      </div>

      <div class="chart-controls-row">
        <div class="chart-filters">
          <span data-range="30m">30M</span>
          <span data-range="4h">4H</span>
          <span data-range="1d">1D</span>
          <span data-range="1m" class="active">1M</span>
          <span data-range="3m">3M</span>
          <span data-range="1y">1Y</span>
        </div>
      </div>

      <div id="chart-container"></div>

      <div class="update-time" id="snapUpdated">
        Calculating index · Updates every 30 minutes (UTC)
      </div>

      <div class="public-disclaimer">
        CRYP Index is a rules-based reference index.
        It is not an investment product and does not represent an offer or solicitation.
      </div>
    </section>

    <!-- ===== CONSTITUENTS ===== -->
    <section class="card area-portfolio">
      <div class="card-header">
        <h3>Index Constituents</h3>
      </div>

      <p class="panel-note">
        Constituents are selected based on free-float market capitalisation.
      </p>

      <table class="portfolio-table">
        <thead>
          <tr>
            <th>Symbol</th>
            <th>Weight</th>
          </tr>
        </thead>
        <tbody id="constituentsBody">
          <tr>
            <td colspan="2" class="loading">Loading constituents…</td>
          </tr>
        </tbody>
      </table>
    </section>

    <!-- ===== INFO ===== -->
    <section class="card area-info">
      <div class="card-header">
        <h3>Index Methodology (Summary)</h3>
      </div>

      <div class="info-content">
        <div class="stats-row">
          <div class="stat-item">
            <label>Universe</label>
            <div class="stat-value">Top Crypto Assets</div>
          </div>
          <div class="stat-item">
            <label>Rebalance</label>
            <div class="stat-value">Monthly</div>
          </div>
        </div>

        <p class="description">
          The CRYP Index represents the performance of the largest and most liquid
          crypto assets.
        </p>

        <div class="rebalance">
          Review schedule: End-of-month (UTC)
        </div>
      </div>
    </section>

    <!-- ===== PIE ===== -->
    <section class="card area-pie">
      <div class="card-header">
        <h3>Indicative Composition</h3>
      </div>

      <p class="panel-note">
        Indicative: derived from latest constituent weights.
      </p>

      <div class="pie-layout">
        <div id="pieChart"></div>
        <ul class="legend" id="pieLegend"></ul>
      </div>

      <div class="derived-note">
        Composition is derived from published constituents and may not reflect
        real-time market movements.
      </div>
    </section>

  </div>
</div>

<script src="js/app.js"></script>
</body>
</html>